<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</HEAD>
<BODY>
  <SCRIPT src="/socket.io/socket.io.js"></SCRIPT>
  <SCRIPT>
	var getElemId = function(id){ return document.getElementById(id); };
    var socket = io.connect('http://buffmail.dnsdynamic.net:8080');

  	socket.on('log', function(data){
		document.getElementById("log").innerHTML += '<br>' + data.select;
	});

    function sendVote(val) {
        socket.emit('vote', {'select':val, 'name':selectedName});
    }

  </SCRIPT>
  <SCRIPT>
	var selectedName = "none";
	window.onload = function(){
		getElemId("1day").onclick = function() {sendVote(1);};
	    getElemId("3day").onclick = function() {sendVote(3);};
	    getElemId("5day").onclick = function() {sendVote(5);};
	    getElemId("name_select").onchange = function() {
	        selectedName = this.options[this.selectedIndex].text;
            console.log(selectedName);
	    }
	}
  </SCRIPT>

  <P id="log">log area for client side</P>

  <P id="name_select_p">
	<SELECT id="name_select" name='username' size='1'>
	  <OPTION value="none">이름선택</OPTION>
	  <OPTION value="buffmail">buffmail</OPTION>
	  <OPTION value="kran">kran</OPTION>
	  <OPTION value="ohye">ohye</OPTION>
	  <OPTION value="sentis">sentis</OPTION>
	</SELECT>
  </P>

  <P id="name_select_text">	</P>
  <input type="radio" name="duration" id="1day" value="1"/>
  <label for="1day">1 Day</label>
  <input type="radio" name="duration" id="3day" value="3"/>
  <label for="3day">3 Day</label>
  <input type="radio" name="duration" id="5day" value="5"/>
  <label for="5day">5 Day</label>
  
</BODY>
</HTML>  
